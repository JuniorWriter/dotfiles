#!/bin/bash

compilejava() {
  # rm -rf ../out
  mkdir -p "../out/production/$1/";
  javac "$1.java";
  mv "$1.class" "../out/production/$1/";
}

runjava() {
  cd "../out/production/$1/";
  java "$1";
  cd -;
}

jrun() {
  local file_name="$1"
  local class_name=$(echo $file_name | cut -d '.' -f 1)

  javac "$file_name"
  java "$class_name"
}

gnurun() {
  local compiler="$1"
  local file_name="$2"
  local out_name=$(echo $file_name | cut -d '.' -f 1)
  
  {
    $compiler "$file_name" -o "$out_name.out"
  } && {
    ./"$out_name.out"
  } || {
    echo ""
  }
}

crun() {
  gnurun "gcc" "$1"
}

cpprun() {
  gnurun "g++" "$1"
}

conanbuild() {
  rm -rf build
  mkdir build
  pushd build
  conan install ..
  cmake .. -DCMAKE_BUILD_TYPE=Release
  cmake --build .
}

conanrun() {
  cbuild "$1"
  bin/"$1"
  cd -
}

